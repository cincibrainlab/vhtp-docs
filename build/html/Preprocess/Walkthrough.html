
  

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

      <title>Preprocessing Walkthrough Introduction | VHTP 1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" />
      <link rel="stylesheet" href="../_static/theme.e6081a2fb60dd7bf7015.css" />
        <link rel="search" title="Search" href="../search.html" />
        <link rel="index" title="Index" href="../genindex.html" />
        <link rel="prev" title="Defining Parameters" href="DefiningParameters.html" />
  </head>

  <body class="antialiased text-gray scroll-smooth">
    <div
      id="page"
      data-controller="sidebar search"
      data-action="keydown@window->search#focus"
      class="h-screen xl:grid xl:grid-layout"
    >
      <a class="block text-xl bg-white py-4 z-20 absolute top-0 h-14 inset-x-0 text-center transform -translate-y-full focus:translate-y-0 focus:outline-none transition-transform duration-75" href="#preprocessing-walkthrough-introduction" title="Skip navigation links">Skip to content</a>

      <header class="grid-area-header z-10 h-14">
        <div class="bg-gray-dark shadow-md flex items-center h-full xl:px-2 relative"><div class="flex items-center">
      <button
    data-action="sidebar#open"
    data-sidebar-target="hamburger"
    class="xl:hidden h-14 w-14 leading-14 text-gray-100 hover:bg-gray-700 hover:text-brand focus:outline-none focus:bg-gray-700 focus:text-brand">
  <span class="sr-only">Open navigation menu</span>
  <svg aria-hidden="true" class="fill-current h-8 w-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
</button><a class="hover:bg-gray-700 focus:bg-gray-700 focus:outline-none tooltipped tooltipped-sw"
   href="../index.html"
   aria-label="Back to homepage"><span class="hidden lg:inline-block shrink-0 font-medium text-gray-100 mx-5 leading-14 tracking-wider">VHTP 1.0 documentation</span>
</a></div><div class="flex justify-end items-center flex-1"><form
  id="searchbox"
  action="../search.html"
  data-action="click->search#focusSearchInput"
  method="get"
  class="flex print:hidden justify-between items-center leading-14 md:ml-4 bg-gray-dark text-gray-300 focus-within:bg-gray-50 focus-within:text-gray-800 focus-within:absolute focus-within:inset-x-0 focus-within:top-0 md:focus-within:w-full md:focus-within:static">

  <button
    class="text-inherit h-14 w-14"
    aria-label="Get search results"
    tabindex="-1"
  >
    <svg aria-hidden="true" class="fill-current stroke-current h-8 w-8" stroke-width="0.5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
  </button>

  <input
    name="q"
    id="search-input"
    data-search-target="searchInput"
    type="search"
    aria-label="Search the docs"
    placeholder="Search the docs"
    class="pr-2 bg-transparent text-inherit focus:outline-none w-0 md:w-auto focus:w-full transition-all duration-100"
  />
</form></div>
</div>
      </header>

      
  <aside data-sidebar-target="sidebar" class="grid-area-sidebar h-full fixed xl:relative inset-y-0 left-0 z-20 xl:z-0 print:hidden overflow-y-auto transition-all transform transform-gpu -translate-x-full opacity-0 duration-300 xl:translate-x-0 xl:opacity-100">
    <nav
  role="navigation"
  class="h-full overflow-y-auto bg-white text-gray-600 pt-8 flex flex-col"
>
  <div class="nav-toc flex-1 pl-6"><p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Preprocessing</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#welcome-to-the-preprocessing-section-for-the-vhtp-pipeline">Welcome to the Preprocessing Section for the VHTP Pipeline.</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Methods.html">Available Steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="DefiningParameters.html">Defining Parameters</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Preprocessing Walkthrough Introduction</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

  <button
      data-action="sidebar#close"
      title="Close navigation menu"
      class="text-4xl text-gray-800 p-4 bottom-0 hover:text-brand xl:hidden focus:text-brand self-center">
    <span class="sr-only">Close navigation menu</span>
    <svg aria-hidden="true" class="fill-current stroke-current h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
  </button>
</nav>
  </aside>

  <main
    data-controller="scroll"
    class="px-4 xl:ml-fluid grid-area-main overflow-y-auto flex flex-col h-full mx-0 md:mx-auto xl:mr-0"
  ><nav role="navigation"
     aria-label="breadcrumbs"
     class="print:hidden mt-12 text-sm text-gray-light">
  <a class="text-gray-light text-sm hover:text-gray-dark font-medium focus:text-gray-dark" href="../index.html">VHTP 1.0 documentation</a>
  <span class="mr-1">/</span><a class="text-gray-light text-sm hover:text-gray-dark" href="index.html">Preprocessing</a>
    <span class="mr-1">/</span><span aria-current="page">Preprocessing Walkthrough Introduction</span>
</nav>
    <article role="main" class="flex-1">
      
  <section id="preprocessing-walkthrough-introduction">
<h1>Preprocessing Walkthrough Introduction<a class="headerlink" href="#preprocessing-walkthrough-introduction" title="Permalink to this heading"><span>#</span></a></h1>
<p>Welcome to the Preprocessing walkthrough section!</p>
<p>Here we will present an in-depth example of how you can use the VHTP software suite’s Preprocessing tool.</p>
<section id="initialization">
<h2>Initialization<a class="headerlink" href="#initialization" title="Permalink to this heading"><span>#</span></a></h2>
<p>To begin our process, we must choose our steps and define them in a parameters file. We will have one ‘parameters’ file for each set of processing steps we would like to use. This is flexible; you can have one parameters file that you use for all files; multiple parameters files that can be used separately for different paradigms; or multiple parameters files that represent different stages of processing for the same paradigm.</p>
<p>The parameters files will be stored in the vhtp/parameters directory.    More information on the components of the parameter file can be found on the Preprocessing <a class="reference internal" href="DefiningParameters.html"><span class="doc">Defining Parameters</span></a> page.</p>
<ol class="arabic">
<li><dl>
<dt>Creation of Parameters File</dt><dd><ul>
<li><p>Create a new MATLAB function file.  Save this file with the name “parameters_(Name_That_Is_Meaningful_To_you).m”.</p>
<p>Example: ‘parameters_Resting’ vs. ‘parameters_Resting_Post_ICA’ vs. ‘parameters_ERP’.</p>
</li>
<li><p>This function name will be what shows up as a paradigm to be selected in the graphical user interface.</p>
<blockquote>
<div><div class="highlight docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">At the beginning of every parameters function file, edit the top row to reflect your file name. The resulting top two lines should look like this (with “Resting” replaced by the name of the file)</span><a class="headerlink" href="#id1" title="Permalink to this code"><span>#</span></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><code>        <span class="n">function</span> <span class="p">[</span><span class="n">PARAMS</span><span class="p">]</span> <span class="o">=</span> <span class="n">parameters_Resting</span><span class="p">()</span>
        <span class="n">clear</span> <span class="n">PARAMS</span><span class="p">;</span>
</code></pre></div></div>
</div>
<p>The output for the function will be a parameters structure that just contains all of our preprocessing steps and the inputs for those steps.</p>
<div class="highlight docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Beneath this, each step should be added as a block of code similar to the following:</span><a class="headerlink" href="#id2" title="Permalink to this code"><span>#</span></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><code>        <span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_highpass</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="nd">@eeg_htpEegFilterEeglab</span><span class="p">;</span>
        <span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_highpass</span><span class="o">.</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;highpass&#39;</span><span class="p">;</span>
        <span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_highpass</span><span class="o">.</span><span class="n">highpassfilt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</code></pre></div></div>
</div>
<p>In this example, we have the function we want to run (first line) and two parameters (subsequent two lines) that tell it how we want it to perform.</p>
<p>The code for each step will start with a function attribute that is just ‘&#64;’ followed by the name of the actual VHTP function you would like to use for that step.</p>
<p>The parameters beneath the function will be used as inputs to the function.  In our situation here, we are telling it what type of filter we want to use (‘highpass’) and the frequency at which we want to filter (1 Hz).  Any possible optional input for the function can be specified in this manner, as long as it is the format of ‘PARAMS.(name_you_specified).(optional_input_name)’.</p>
<p>We can repeat this same setup of PARAMS.x where x is a user-defined unique name consisting of a continuous string of characters.</p>
<p>Note that if you elect to save output data for a specific step, the filenames will include the user-defined name for that step.</p>
<blockquote>
<div><p>Example: /output/Resting/eeg_htpEegFilterEeglab/subject_whatever_filter_highpass.set</p>
</div></blockquote>
<p>If you need to refer to the available functions and their inputs, please visit the <a class="reference internal" href="Methods.html"><span class="doc">Available Steps</span></a> page.</p>
</div></blockquote>
</li>
<li><dl>
<dt>Our final parameters file looks like this with the full set of steps:</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><code><span class="n">function</span> <span class="p">[</span><span class="n">PARAMS</span><span class="p">]</span> <span class="o">=</span> <span class="n">parameters_Resting</span><span class="p">()</span>
<span class="n">clear</span> <span class="n">PARAMS</span><span class="p">;</span>

<span class="o">%%</span><span class="n">FILTER</span> <span class="n">HIGHPASS</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_highpass</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="nd">@eeg_htpEegFilterEeglab</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_highpass</span><span class="o">.</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;highpass&#39;</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_highpass</span><span class="o">.</span><span class="n">hipassfilt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="o">%%</span><span class="n">FILTER</span> <span class="n">LOWPASS</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_lowpass</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="nd">@eeg_htpEegFilterEeglab</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_lowpass</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;lowpass&#39;</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_lowpass</span><span class="o">.</span><span class="n">lowpassfilt</span><span class="o">=</span><span class="mi">80</span><span class="p">;</span>

<span class="o">%%</span><span class="n">FILTER</span> <span class="n">NOTCH</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_notch</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="nd">@eeg_htpEegFilterEeglab</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_notch</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;notch&#39;</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">filter_notch</span><span class="o">.</span><span class="n">notchfilt</span><span class="o">=</span><span class="p">[</span><span class="mi">57</span> <span class="mi">63</span><span class="p">];</span>

<span class="o">%%</span><span class="n">RESAMPLE</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">resample</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="nd">@eeg_htpEegResampleDataEeglab</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">resample</span><span class="o">.</span><span class="n">srate</span> <span class="o">=</span> <span class="mi">250</span><span class="p">;</span>

<span class="o">%%</span><span class="n">Rereference</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">rereference</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="nd">@eeg_htpEegRereferenceEeglab</span><span class="p">;</span>

<span class="o">%%</span><span class="n">CHANNEL</span> <span class="n">REMOVAL</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">channel_removal</span><span class="o">.</span><span class="n">function</span><span class="o">=</span><span class="nd">@eeg_htpEegRemoveChansEeglab</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">channel_removal</span><span class="o">.</span><span class="n">threshold</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">channel_removal</span><span class="o">.</span><span class="n">saveoutput</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>

<span class="o">%%</span><span class="n">CHANNEL</span> <span class="n">INTERPOLATION</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">channel_interpolation</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="nd">@eeg_htpEegInterpolateChansEeglab</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">channel_interpolation</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;spherical&#39;</span><span class="p">;</span>

<span class="o">%%</span><span class="n">SEGMENT</span> <span class="n">REMOVAL</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">segment_removal</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="nd">@eeg_htpEegRemoveSegmentsEeglab</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">segment_removal</span><span class="o">.</span><span class="n">saveoutput</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>

<span class="o">%%</span><span class="n">EPOCH</span> <span class="n">CREATION</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">epoch_creation</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="nd">@eeg_htpEegCreateEpochsEeglab</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">epoch_creation</span><span class="o">.</span><span class="n">epochlength</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">epoch_creation</span><span class="o">.</span><span class="n">epochlimits</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="mi">1</span><span class="p">];</span>

<span class="o">%%</span><span class="n">EPOCH</span> <span class="n">REMOVAL</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">epoch_removal</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="nd">@eeg_htpEegRemoveEpochsEeglab</span><span class="p">;</span>

<span class="o">%%</span><span class="n">ICA</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">ica</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="nd">@eeg_htpEegIcaEeglab</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">ica</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;binica&#39;</span><span class="p">;</span>

<span class="o">%%</span><span class="n">REMOVE</span> <span class="n">COMPONENTS</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">component_removal</span><span class="o">.</span><span class="n">function</span><span class="o">=</span><span class="nd">@eeg_htpEegRemoveCompsEeglab</span><span class="p">;</span>
<span class="n">PARAMS</span><span class="o">.</span><span class="n">component_removal</span><span class="o">.</span><span class="n">maxcomps</span> <span class="o">=</span> <span class="mi">24</span><span class="p">;</span>
<span class="n">end</span>
</code></pre></div></div>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>The graphical user interface (GUI)</dt><dd><ul>
<li><p>Once we have filled in our parameters file with all the steps’ functions and inputs, we are ready to move to the GUI!</p></li>
<li><p>The top right of our GUI has some settings we need to take a look at before we start processing.</p>
<blockquote>
<div><figure class="align-default" id="id3">
<a class="reference internal image-reference" href="../_images/InitialOptions.png"><img alt="../_images/InitialOptions.png" src="../_images/InitialOptions.png" style="width: 516.0px; height: 62.0px;" /></a>
<figcaption>
<p><span class="caption-text">The most important section is the requirements section.  You will see a label that says ‘EEGLAB’ next to a light.  The red light indicates that we need to add EEGLAB to our MATLAB path.  To do this we click the ‘Fix Path’ button and a file explorer window appears.  We select our EEGLAB directory and we are good to go!  The light should now be green.</span><a class="headerlink" href="#id3" title="Permalink to this image"><span>#</span></a></p>
<div class="legend">
<p>The other options are for file selection and preprocessing.</p>
<p>We have the ability to set the GUI to single file mode.  This will allow us to select a specific data file to preprocess rather than an entire directory of data files.  The first checkbox, ‘Start New,’ should be checked if you plan to run <strong>all</strong> the steps you set in your parameters file.  Please see the <a class="reference internal" href="#paradigm-and-workflow-style-selection"><span class="std std-ref">Paradigm and Workflow Style Selection</span></a> for more details.</p>
<p>The second, ‘Ignore Subfolders,’ should be selected if your data files are at the root of your input directory and <strong>not</strong> housed in subfolders within the input directory.  Please see the <a class="reference internal" href="#selecting-and-preparing-data"><span class="std std-ref">Selecting and Preparing Data</span></a> section for tips on selecting your input data.</p>
</div>
</figcaption>
</figure>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</li>
</ol>
</section>
<section id="selecting-and-preparing-data">
<h2>Selecting and Preparing Data<a class="headerlink" href="#selecting-and-preparing-data" title="Permalink to this heading"><span>#</span></a></h2>
<ol class="arabic">
<li><p>Setting up Directories</p>
<ul>
<li><p>You now are ready to <strong>use</strong> the GUI!</p></li>
<li><ul class="simple">
<li><p>To start the GUI, right-click the file “vhtpPreprocessGui.mlapp” and select “Run” (not “Open”)
- Alternatively, you can can also type ‘vhtpPreprocessGui’ in the MATLAB console and hit enter.</p></li>
</ul>
</li>
<li><dl class="simple">
<dt>You will specify a “core” directory that houses the files you want to process.  You can perform every step you need to on these files. You are also able to retrieve the output files from each step and create an entirely new core directory with those files.</dt><dd><ul class="simple">
<li><p>Within your core directory, once output is generated it will be place within a subdirectory entitled ‘preprocess’.  This ‘preprocess folder will hold all the output for each parameter set used.</p></li>
<li><dl class="simple">
<dt>Also, if the ‘use subfolders’ checkbox is checked it will use any .set files it finds in subfolders that exist in this main ‘core’ directory.</dt><dd><ul>
<li><p>Example: core directory has three folders within named ‘group 1’ and ‘group 2’ with each of these folders housing their own .set files.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><p>Let us take a look at how we set this core directory in the GUI</p>
<blockquote>
<div><figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../_images/ConfigureDatasets.png"><img alt="../_images/ConfigureDatasets.png" src="../_images/ConfigureDatasets.png" style="width: 513.9px; height: 119.7px;" /></a>
<figcaption>
<p><span class="caption-text">We can see two separate fields and two hyperlink options.</span><a class="headerlink" href="#id4" title="Permalink to this image"><span>#</span></a></p>
<div class="legend">
<p>The first field is where we specify our core directory. The second field is for exporting all of our step outputs.  This is only used if you plan to export your data through the GUI by clicking the ‘Export Data’ button.  It will zip up the ‘preprocess’ output folder and store it in the folder you select for this export directory field.</p>
<p>If we are in single file mode, the first field will have us selecting a specific data file rather than an entire core directory of files.</p>
<p>In single file mode, ‘Select Folder’ will change to ‘Select Files’ and you must select a single data file.</p>
<p>Once we have values in the two fields, we can click the ‘Save Snapshot’ link to save these settings.  Upon clicking ‘Load Snapshot’, the fields will be populated with any saved values.</p>
<p>Once values are selected, some details about the input and output folder will be provided to you.</p>
</div>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><dl class="simple">
<dt>Once output is generated, it will be place within a subdirectory entitled ‘preprocess .’ Within this subdirectory, the parameters file you use will have its own subdirectory created to house output. Inside of this parameters subdirectory, you will have separate folders of each step’s output.</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>For example, if you use a parameters file named Resting that calls the function eeg_htpEegFilterEeglab with a user-defined name of filter_highpass then your output will be saved in: /output/Resting/eeg_htpEegFilterEeglab/</dt><dd><ul>
<li><p>The filename will be: originalfilename_filter_highpass.set</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><p>We have set our input directory and export directory and now can select our preprocessing method!</p></li>
</ul>
</li>
</ol>
</section>
<section id="paradigm-and-workflow-style-selection">
<h2>Paradigm and Workflow Style Selection<a class="headerlink" href="#paradigm-and-workflow-style-selection" title="Permalink to this heading"><span>#</span></a></h2>
<ol class="arabic">
<li><dl>
<dt>Selecting Paradigm</dt><dd><ul class="simple">
<li><p>Once we select an input folder/file and an export folder, we will be able to select a paradigm to load the parameters for</p></li>
</ul>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../_images/SelectParadigms.png"><img alt="../_images/SelectParadigms.png" src="../_images/SelectParadigms.png" style="width: 450.0px; height: 419.40000000000003px;" /></a>
<figcaption>
<p><span class="caption-text">Every parameters file will appear in this list as a paradigm you can use.  As you can see, our list consists of our example ‘Resting’ paradigm since we created our parameters file.</span><a class="headerlink" href="#id5" title="Permalink to this image"><span>#</span></a></p>
<div class="legend">
<p>If you make changes to parameters files, you can click “Reload” to ensure the most recent changes are reflected.</p>
</div>
</figcaption>
</figure>
</dd>
</dl>
</li>
<li><dl>
<dt>Select Workflow Style</dt><dd><ul>
<li><p>The “Workflow Style” choices allows flexibility to how you use the steps. You will likely begin by using “All Steps (in Order).” Please see below for a breakdown of each type of preprocessing option.</p>
<blockquote>
<div><figure class="align-center">
<a class="reference internal image-reference" href="../_images/SelectWorkflow.png"><img alt="../_images/SelectWorkflow.png" src="../_images/SelectWorkflow.png" style="width: 468.0px; height: 371.7px;" /></a>
</figure>
</div></blockquote>
</li>
<li><dl class="simple">
<dt>All Steps</dt><dd><ul class="simple">
<li><p>The ‘All Steps’ option will perform every step listed in your parameters file in sequential order.</p></li>
<li><p>For each step, the function you sue will have a ‘saveoutput’ parameter that you must specify to <strong>true</strong> if you want that step’s output to be saved.</p></li>
<li><p>If the input is a directory of files, the first file will undergo all steps and then it will move on to the next file until all files have completed all steps.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Selected Step</dt><dd><ul>
<li><p>The ‘Selected Step’ option will perform the step you select from the list of available steps.  The steps listed are generated from those you specify in your parameters file. As you can see, all of our steps from our parameters file we set up back in the <a class="reference internal" href="#initialization"><span class="std std-ref">Initialization</span></a> section are present!</p>
<blockquote>
<div><figure class="align-default" id="id6">
<a class="reference internal image-reference" href="../_images/SelectStep.png"><img alt="../_images/SelectStep.png" src="../_images/SelectStep.png" style="width: 558.0px; height: 383.40000000000003px;" /></a>
<figcaption>
<p><span class="caption-text">Click ‘Edit Parameters’ to make changes to the parameters file, such as adding/removing a step and/or changing parameter values.</span><a class="headerlink" href="#id6" title="Permalink to this image"><span>#</span></a></p>
<div class="legend">
<p>If we do make changes to the parameters file, we must save the file, and click the ‘Reload’ hyperlink by the paradigm list to ensure our changes are applied.</p>
</div>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p>The step details panel will show the parameters and function used for the selected step in the selected step list.</p>
<blockquote>
<div><figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../_images/StepDetails.png"><img alt="../_images/StepDetails.png" src="../_images/StepDetails.png" style="width: 434.7px; height: 384.3px;" /></a>
<figcaption>
<p><span class="caption-text">The ‘Edit function’ hyperlink will open up the specific function file so you can edit it should you need to make changes.</span><a class="headerlink" href="#id7" title="Permalink to this image"><span>#</span></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Continue from Step</dt><dd><ul>
<li><p>The ‘Continue From Step’ option will perform the selected step and all subsuquent steps listed in your parameters file.  Therefore, if you selected the fourth step, steps 4 through the last step will be performed.</p>
<blockquote>
<div><figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../_images/SelectContinuation.png"><img alt="../_images/SelectContinuation.png" src="../_images/SelectContinuation.png" style="width: 221.4px; height: 44.1px;" /></a>
<figcaption>
<p><span class="caption-text">The Continue From Step list will be a dropdown populated with all of the steps specified in your parameters file.  Any of them will be available to start from for preprocessing your data starting at a specific step.</span><a class="headerlink" href="#id8" title="Permalink to this image"><span>#</span></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ol>
</section>
<section id="processing-execution">
<h2>Processing Execution<a class="headerlink" href="#processing-execution" title="Permalink to this heading"><span>#</span></a></h2>
<ol class="arabic">
<li><dl>
<dt>Execute Workflow</dt><dd><ul>
<li><p>After you have selected the data, the paradigm, and the workflow style, you can commence with preprocessing by clicking the ‘Execute’ button.</p>
<blockquote>
<div><figure class="align-center" id="id9">
<a class="reference internal image-reference" href="../_images/Execute.png"><img alt="../_images/Execute.png" src="../_images/Execute.png" style="width: 465.3px; height: 116.10000000000001px;" /></a>
<figcaption>
<p><span class="caption-text">If you would like to test your steps without any output being saved, check the ‘Dry Run’ checkbox.  Leave this unchecked to ensure output is saved for every step that has specified ‘saveoutput’ as <strong>true</strong>.</span><a class="headerlink" href="#id9" title="Permalink to this image"><span>#</span></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p>Here is a look at our GUI after completing the setup</p>
<blockquote>
<div><figure class="align-center">
<a class="reference internal image-reference" href="../_images/FinalProduct.png"><img alt="../_images/FinalProduct.png" src="../_images/FinalProduct.png" style="width: 797.4px; height: 493.2px;" /></a>
</figure>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</li>
</ol>
</section>
<section id="exporting-data">
<h2>Exporting Data<a class="headerlink" href="#exporting-data" title="Permalink to this heading"><span>#</span></a></h2>
<ol class="arabic">
<li><dl>
<dt>Export Data</dt><dd><ul>
<li><p>Now that we have executed our preprocessing for our data files, we can export them!</p></li>
<li><p>The output will all be housed in a main new subfolder created in our input directory entitled ‘preprocess’.</p></li>
<li><p>Within this, each paradigm we use will have its own subfolder. Right now, we just see our ‘Resting’ folder.</p>
<blockquote>
<div><figure class="align-center">
<a class="reference internal image-reference" href="../_images/ParadigmOutput.png"><img alt="../_images/ParadigmOutput.png" src="../_images/ParadigmOutput.png" style="width: 626.4px; height: 104.4px;" /></a>
</figure>
</div></blockquote>
</li>
<li><p>Within a paradigm subfolder, we will find our actual output.  Each subfolder, as seen below, is named after the step’s function.  Within are the .set files for that step, if the parameter saveoutput was set to ‘true.’ .</p>
<blockquote>
<div><figure class="align-center">
<a class="reference internal image-reference" href="../_images/StepOutput.png"><img alt="../_images/StepOutput.png" src="../_images/StepOutput.png" style="width: 869.4px; height: 272.7px;" /></a>
</figure>
</div></blockquote>
</li>
<li><p>The folder that we selected for the output directory (see <a class="reference internal" href="#selecting-and-preparing-data"><span class="std std-ref">Selecting and Preparing Data</span></a>) will be where our exported files will end up.  All the files and output for our paradigm will be exported into a .zip file with the date appended to the file name.</p>
<blockquote>
<div><figure class="align-center" id="id10">
<a class="reference internal image-reference" href="../_images/Export.png"><img alt="../_images/Export.png" src="../_images/Export.png" style="width: 453.6px; height: 132.3px;" /></a>
<figcaption>
<p><span class="caption-text">The ‘Export Dataset’ button will zip the output data and place it in the output folder.</span><a class="headerlink" href="#id10" title="Permalink to this image"><span>#</span></a></p>
<div class="legend">
<p>The BIDS export will include the input file/files as the source files, and all output will be copied to the derivatives subdirectory and placed under a subdirectory named after the selected paradigm.</p>
</div>
</figcaption>
</figure>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</li>
</ol>
</section>
<section id="examining-step-output">
<h2>Examining Step Output<a class="headerlink" href="#examining-step-output" title="Permalink to this heading"><span>#</span></a></h2>
<ol class="arabic">
<li><dl>
<dt>Inspecting file outputs</dt><dd><ul>
<li><p>We can see in the <a class="reference internal" href="#exporting-data"><span class="std std-ref">Exporting Data</span></a> section that each function used will have its own subdirectory that houses the data.  If we go into each function subdirectory, we can see our output files with their custom labels.</p>
<blockquote>
<div><figure class="align-center" id="id11">
<a class="reference internal image-reference" href="../_images/FunctionOutputFiles.png"><img alt="../_images/FunctionOutputFiles.png" src="../_images/FunctionOutputFiles.png" style="width: 841.5px; height: 177.3px;" /></a>
<figcaption>
<p><span class="caption-text">As we can see, the ‘eeg_htpEegFilterEeglab’ subfolder has all output files that underwent this function.  Each file has the original file name, followed by the user-defined name for the preprocessing step listed in the parameters file.</span><a class="headerlink" href="#id11" title="Permalink to this image"><span>#</span></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Inspecting output structure contents</dt><dd><ul>
<li><p>We can then load a file via EEGLAB to inspect the file’s processing history.</p></li>
<li><p>This information is stored in EEG.vhtp. You can view these details by using MATLAB’s variable view or by typing EEG.vhtp in the console, as shown below.</p>
<blockquote>
<div><figure class="align-center" id="id12">
<a class="reference internal image-reference" href="../_images/vhtpStructOutput.png"><img alt="../_images/vhtpStructOutput.png" src="../_images/vhtpStructOutput.png" style="width: 437.40000000000003px; height: 182.70000000000002px;" /></a>
<figcaption>
<p><span class="caption-text">You can see multiple fields within the EEG.vhtp structure.</span><a class="headerlink" href="#id12" title="Permalink to this image"><span>#</span></a></p>
<div class="legend">
<p>The inforow structure contains information about the data file itself, including fields like net type, raw trials, raw sampling rate, raw events, raw event codes, and others.</p>
<p>The stepPreprocessing structure contains all the steps from the parameters file and a 1 or 0 value to indicate if the file has undergone that step.</p>
<p>The ‘eeg_htpEegFilterEeglab’ field is a structure that contains details about how this function was used to alter the data. Though you may run multiple filters, all use the same function, so all filtering parameters will be housed in the same structure.</p>
<p>The ‘prior_file’ field lists the name of the data file prior to this step. In this case, we have 0013_rest_notch.set open. We highpass and lowpass filtered our data prior to notch, so the file that entered the notch filter was 0013_rest_filter_lowpass.set.</p>
<p>The ‘stepPlacement’ field is an integer providing context about what step this was in the process. In this case, notch filtering was our third step listed in the parameters file.</p>
</div>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p>The stepPreprocessing structure has the following format:</p>
<blockquote>
<div><figure class="align-center" id="id13">
<a class="reference internal image-reference" href="../_images/stepPreprocessingStructOutput.png"><img alt="../_images/stepPreprocessingStructOutput.png" src="../_images/stepPreprocessingStructOutput.png" style="width: 261.0px; height: 302.40000000000003px;" /></a>
<figcaption>
<p><span class="caption-text">As we can see, since this output is for the third step and we were in ‘All Steps’ mode the first three steps have a value of 1 followed by all zeros.</span><a class="headerlink" href="#id13" title="Permalink to this image"><span>#</span></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
<ul>
<li><p>The eeg_htpEegFilterEeglab struct has the following format:</p>
<blockquote>
<div><figure class="align-center" id="id14">
<a class="reference internal image-reference" href="../_images/functionStructOutput.png"><img alt="../_images/functionStructOutput.png" src="../_images/functionStructOutput.png" style="width: 279.0px; height: 418.5px;" /></a>
<figcaption>
<p><span class="caption-text">The fields in this structure represent the input parameters for the eeg_htpEegFilterEeglab function along with some completion details for the various filtering methods. There is also a qi_table field that provides when the file has been through the function and at what time.</span><a class="headerlink" href="#id14" title="Permalink to this image"><span>#</span></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
</ul>
</li>
</ol>
</section>
</section>


    </article>

    <footer>
      
        <div class="mt-20 mb-4 text-sm text-gray-700">&copy; 2022, Dr. Ernest Pedapati, Kyle Cullion&nbsp;Made with <a href="https://www.sphinx-doc.org">Sphinx 5.0.2</a></div>
      
    </footer></main>


      <button
  data-search-target="snackbar"
  data-action="search#hideSnackbar"
  class="fixed bottom-0 right-0 z-20 opacity-0 p-4 m-4 tracking-wide bg-gray-900 text-gray-100 transition transform transform-gpu duration-500 translate-y-full"
>
  Clear highlights
</button><div
  data-sidebar-target="screen"
  data-action="click->sidebar#close"
  class="fixed hidden inset-0 bg-black bg-opacity-50">
</div>
    </div>
    
      
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
  <script src="../_static/jquery.js"></script>
  <script src="../_static/underscore.js"></script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
  <script src="../_static/doctools.js"></script>
<script src="../_static/theme.a9d041328d1560cbc665.js"></script>
    
  </body>
</html>